(()=>{"use strict";var e={67317:(e,t,a)=>{var n=a(47401),r=a(36665),o=a(66986),i=a(54705),l=a(91087);const s="@transactions";async function c(){try{const e=await l.default.getItem(s);return null!=e?JSON.parse(e):[]}catch(e){return console.warn("Error loading transactions:",e),[]}}var d=a(60397);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={transactions:[]};function y(e,t){switch(console.log("Reducer called with action:",t),t.type){case"SET_TRANSACTIONS":return console.log("Setting transactions:",t.payload),g(g({},e),{},{transactions:t.payload});case"ADD_TRANSACTION":return console.log("Adding transaction:",t.payload),g(g({},e),{},{transactions:[...e.transactions,t.payload]});case"UPDATE_TRANSACTION":return console.log("Updating transaction:",t.payload),g(g({},e),{},{transactions:e.transactions.map((e=>e.id===t.payload.id?t.payload:e))});case"DELETE_TRANSACTION":return console.log("Deleting transaction with ID:",t.payload),g(g({},e),{},{transactions:e.transactions.filter((e=>e.id!==t.payload))});default:return e}}const f=(0,r.createContext)();function p({children:e}){const[t,a]=(0,r.useReducer)(y,m),[n,o]=(0,r.useState)("TRY");(0,r.useEffect)((()=>{(async()=>{try{const[e,t,n]=await Promise.all([c(),l.default.getItem("selectedCurrency"),l.default.getItem("userPreferences")]);if(a({type:"SET_TRANSACTIONS",payload:e}),n){const{currency:e}=JSON.parse(n);if(e)return o(e),void await l.default.setItem("selectedCurrency",e)}t&&o(t)}catch(e){console.error("Error loading initial data:",e)}})()}),[]),(0,r.useEffect)((()=>{console.log("Saving transactions to storage:",t.transactions),async function(e){try{const t=JSON.stringify(e);await l.default.setItem(s,t)}catch(t){console.warn("Error saving transactions:",t)}}(t.transactions)}),[t.transactions]);return(0,d.jsx)(f.Provider,{value:{state:t,dispatch:a,selectedCurrency:n,handleCurrencyChange:async e=>{if(e!==n)try{await l.default.setItem("selectedCurrency",e),o(e)}catch(t){console.error("Error changing currency:",t)}}},children:e})}function h(){return(0,r.useContext)(f)}const x="@categories",b=["Food","Transport","Shopping","Bills","Entertainment","Other"],j=(0,r.createContext)();function v({children:e}){const[t,a]=(0,r.useState)(b);(0,r.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=await l.default.getItem(x);e&&a(JSON.parse(e))}catch(e){console.error("Error loading categories:",e)}},o=async e=>{try{await l.default.setItem(x,JSON.stringify(e)),a(e)}catch(t){console.error("Error saving categories:",t)}};return(0,d.jsx)(j.Provider,{value:{categories:t,addCategory:async e=>{if(!e||t.includes(e))return;const a=[...t,e];await o(a)},removeCategory:async e=>{const a=t.filter((t=>t!==e));await o(a)},updateCategory:async(e,a)=>{if(!a||t.includes(a))return;const n=t.map((t=>t===e?a:t));await o(n)}},children:e})}function C(){return(0,r.useContext)(j)}const S={en:{settings:"Settings",save:"Save",cancel:"Cancel",add:"Add",edit:"Edit",delete:"Delete",close:"Close",update:"Update",appSettings:"App Settings",darkMode:"Dark Mode",darkModeDesc:"Toggle dark/light theme",dailyReminders:"Daily Reminders",dailyRemindersDesc:"Get notified to add transactions",currencyFormat:"Currency Format",currentCurrency:"Current: ",categories:"Categories",addNewCategory:"Add New Category",editCategory:"Edit Category",categoryName:"Category Name",language:"Language",languageDesc:"Change application language",about:"About",version:"Version",helpAndSupport:"Help & Support",helpDesc:"Get assistance with the app",privacyPolicy:"Privacy Policy",privacyPolicyDesc:"Read our privacy policy",addTransaction:"Add Transaction",amount:"Amount",category:"Category",date:"Date",note:"Note",income:"Income",expense:"Expense",editTransaction:"Edit Transaction",description:"Description",recurringMonthly:"Recurring Monthly?",transactionUpdated:"Transaction updated successfully!",transactionAdded:"Transaction added successfully!",recentTransactions:"Recent Transactions",selectCategory:"Select Category",descriptionRequired:"Description is required",amountRequired:"Amount is required",invalidAmount:"Please enter a valid positive amount",categoryRequired:"Category is required",myBudget:"My Budget",totalBalance:"Total Balance",noTransactions:"No transactions yet",addFirstTransaction:"Tap the + button to add your first transaction",expenseBreakdown:"Expense Breakdown",totalSpent:"Total Spent",pieChart:"Pie Chart",donutChart:"Donut Chart",summary:"Summary",total:"Total",noExpenseData:"No expense data available",addExpensesToSee:"Add some expenses to see your spending breakdown",selectLanguage:"Select Your Language",selectCurrency:"Select Your Currency",chooseTheme:"Choose Your Theme",lightTheme:"Light Theme",darkTheme:"Dark Theme",next:"Next",previous:"Previous",getStarted:"Get Started",welcome:"Welcome to My Budget",tabHome:"Home",tabCharts:"Charts",tabSettings:"Settings"},tr:{settings:"Ayarlar",save:"Kaydet",cancel:"\u0130ptal",add:"Ekle",edit:"D\xfczenle",delete:"Sil",close:"Kapat",update:"G\xfcncelle",appSettings:"Uygulama Ayarlar\u0131",darkMode:"Karanl\u0131k Mod",darkModeDesc:"Karanl\u0131k/ayd\u0131nl\u0131k tema de\u011fi\u015ftir",dailyReminders:"G\xfcnl\xfck Hat\u0131rlatmalar",dailyRemindersDesc:"\u0130\u015flem ekleme hat\u0131rlatmalar\u0131 al",currencyFormat:"Para Birimi",currentCurrency:"Mevcut: ",categories:"Kategoriler",addNewCategory:"Yeni Kategori Ekle",editCategory:"Kategori D\xfczenle",categoryName:"Kategori Ad\u0131",language:"Dil",languageDesc:"Uygulama dilini de\u011fi\u015ftir",about:"Hakk\u0131nda",version:"Versiyon",helpAndSupport:"Yard\u0131m & Destek",helpDesc:"Uygulama ile ilgili yard\u0131m al\u0131n",privacyPolicy:"Gizlilik Politikas\u0131",privacyPolicyDesc:"Gizlilik politikam\u0131z\u0131 okuyun",addTransaction:"\u0130\u015flem Ekle",amount:"Tutar",category:"Kategori",date:"Tarih",note:"Not",income:"Gelir",expense:"Gider",editTransaction:"\u0130\u015flem D\xfczenle",description:"A\xe7\u0131klama",recurringMonthly:"Ayl\u0131k Tekrar?",transactionUpdated:"\u0130\u015flem ba\u015far\u0131yla g\xfcncellendi!",transactionAdded:"\u0130\u015flem ba\u015far\u0131yla eklendi!",recentTransactions:"Son \u0130\u015flemler",selectCategory:"Kategori Se\xe7",descriptionRequired:"A\xe7\u0131klama gerekli",amountRequired:"Tutar gerekli",invalidAmount:"L\xfctfen ge\xe7erli bir pozitif tutar girin",categoryRequired:"Kategori gerekli",myBudget:"B\xfct\xe7em",totalBalance:"Toplam Bakiye",noTransactions:"Hen\xfcz i\u015flem yok",addFirstTransaction:"\u0130lk i\u015fleminizi eklemek i\xe7in + butonuna dokunun",expenseBreakdown:"Gider Da\u011f\u0131l\u0131m\u0131",totalSpent:"Toplam Harcama",pieChart:"Pasta Grafik",donutChart:"Halka Grafik",summary:"\xd6zet",total:"Toplam",noExpenseData:"Gider verisi bulunmuyor",addExpensesToSee:"Harcama da\u011f\u0131l\u0131m\u0131n\u0131 g\xf6rmek i\xe7in gider ekleyin",selectLanguage:"Dilinizi Se\xe7in",selectCurrency:"Para Biriminizi Se\xe7in",chooseTheme:"Teman\u0131z\u0131 Se\xe7in",lightTheme:"A\xe7\u0131k Tema",darkTheme:"Koyu Tema",next:"\u0130leri",previous:"Geri",getStarted:"Ba\u015flay\u0131n",welcome:"My Budget'a Ho\u015f Geldiniz",tabHome:"Ana Sayfa",tabCharts:"Grafikler",tabSettings:"Ayarlar"}},w=(0,r.createContext)(),T=({children:e})=>{const[t,a]=(0,r.useState)("en");(0,r.useEffect)((()=>{(async()=>{try{const e=await l.default.getItem("userLanguage");e&&a(e)}catch(e){console.error("Error loading language:",e)}})()}),[]);return(0,d.jsx)(w.Provider,{value:{language:t,changeLanguage:async e=>{try{await l.default.setItem("userLanguage",e),a(e)}catch(t){console.error("Error saving language:",t)}},t:e=>{var a;return(null===(a=S[t])||void 0===a?void 0:a[e])||S.en[e]||e}},children:e})},O=()=>{const e=(0,r.useContext)(w);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};var k=a(43150),P=a(20955),D=a(51181),B=a(49377),A=a(73929),E=a(6283),I=a(8179),R=a(75675),L=a(90932),M=a(18885),N=a(98771),z=a(13901),F=a(59793),H=a(46051),$=a(15648),U=a(30336),V=a(53116),G=a(10370);const W={TRY:{symbol:"\u20ba",locale:"tr-TR",position:"after",rate:31.89},USD:{symbol:"$",locale:"en-US",position:"before",rate:1},EUR:{symbol:"\u20ac",locale:"de-DE",position:"after",rate:.91},GBP:{symbol:"\xa3",locale:"en-GB",position:"before",rate:.79},JPY:{symbol:"\xa5",locale:"ja-JP",position:"before",rate:149.45},CNY:{symbol:"\xa5",locale:"zh-CN",position:"before",rate:7.23},INR:{symbol:"\u20b9",locale:"en-IN",position:"before",rate:83.12},AUD:{symbol:"$",locale:"en-AU",position:"before",rate:1.54},CAD:{symbol:"$",locale:"en-CA",position:"before",rate:1.36},CHF:{symbol:"CHF",locale:"de-CH",position:"before",rate:.89}},q=(e,t="USD")=>{try{const a=W[t]||W.USD,n=new Intl.NumberFormat(a.locale,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return"before"===a.position?`${a.symbol}${n}`:`${n} ${a.symbol}`}catch(a){return console.warn("Error formatting currency:",a),`${W.USD.symbol}${e.toFixed(2)}`}},Y=(e="USD")=>{var t;return(null===(t=W[e])||void 0===t?void 0:t.symbol)||W.USD.symbol};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const J={Food:"silverware-fork-knife",Transport:"car",Shopping:"cart",Bills:"file-document",Entertainment:"gamepad-variant",Other:"dots-horizontal"};function X({transaction:e,onPress:t}){const a=(0,D.useTheme)(),{colors:n}=a,{dispatch:o,selectedCurrency:i}=h(),[l,s]=r.useState(!1),c=(0,I.useNavigation)(),{t:u}=O(),g=e.amount<0,m=Math.abs(e.amount),y=J[e.category]||J.Other,f=new Date(e.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),p={menuContent:{backgroundColor:n.surface}};return(0,d.jsx)(z.default,{style:Q.surface,elevation:1,children:(0,d.jsxs)(A.default,{style:Q.container,children:[(0,d.jsx)(V.default,{onPress:e=>{l||t()},style:[Q.touchable,{flex:1}],accessibilityRole:"button",disabled:l,accessibilityLabel:`${e.description} transaction of ${u(g?"expense":"income")} ${q(m,i)}`,children:(0,d.jsx)(U.default,{title:e.description,description:`${e.category} \u2022 ${f}`,left:e=>(0,d.jsx)(H.default,{name:y,size:24,color:n.primary,style:e.style}),right:e=>(0,d.jsx)(A.default,{style:Q.rightContainer,children:(0,d.jsxs)(M.default,_(_({},e),{},{variant:"titleMedium",style:[Q.amount,{color:g?n.error:n.success}],children:[g?"-":"+",q(m,i)]}))}),titleStyle:Q.title,descriptionStyle:[Q.description,{color:n.textSecondary}]})}),(0,d.jsx)(A.default,{style:Q.menuContainer,children:(0,d.jsxs)(G.default,{visible:l,onDismiss:()=>s(!1),anchor:(0,d.jsx)($.default,{onPress:e=>{e.stopPropagation(),s(!0)},style:Q.menuButton,children:(0,d.jsx)(H.default,{name:"dots-vertical",size:24,color:n.primary})}),contentStyle:[p.menuContent],anchorPosition:"bottom",statusBarHeight:0,overlayAccessibilityLabel:"Close menu",children:[(0,d.jsx)(G.default.Item,{onPress:t=>{t.stopPropagation(),s(!1),c.navigate("AddTransaction",{isEditing:!0,transaction:_(_({},e),{},{amount:Math.abs(e.amount)})})},title:u("edit"),leadingIcon:e=>(0,d.jsx)(H.default,{name:"pencil",size:20,color:e.color})}),(0,d.jsx)(G.default.Item,{onPress:t=>{t.stopPropagation(),o({type:"DELETE_TRANSACTION",payload:e.id}),s(!1)},title:u("delete"),leadingIcon:e=>(0,d.jsx)(H.default,{name:"delete",size:20,color:e.color})})]})})]})})}const Q=R.default.create({surface:{marginBottom:8,borderRadius:8,overflow:"hidden"},container:{flexDirection:"row",alignItems:"center"},touchable:{flex:1},title:{fontWeight:"500"},description:{marginTop:4},amount:{fontWeight:"600",alignSelf:"center"},rightContainer:{flexDirection:"row",alignItems:"center",gap:8},menuContainer:{paddingRight:8},menuButton:{padding:8},menu:{position:"absolute",right:8,zIndex:3}});function Z({navigation:e}){const{state:t,selectedCurrency:a}=h(),n=(0,D.useTheme)(),{t:r}=O(),o=t.transactions.reduce(((e,t)=>e+t.amount),0),i=t.transactions.filter((e=>e.amount>0)).reduce(((e,t)=>e+t.amount),0),l=t.transactions.filter((e=>e.amount<0)).reduce(((e,t)=>e+t.amount),0);return(0,d.jsxs)(A.default,{style:[ee.container,{backgroundColor:n.colors.background}],children:[(0,d.jsx)(L.default,{data:t.transactions,keyExtractor:e=>e.id,renderItem:({item:t})=>(0,d.jsx)(X,{transaction:t,onPress:()=>{e.navigate("AddTransaction",{isEditing:!0,transaction:t})}}),ListHeaderComponent:()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(z.default,{style:ee.summaryContainer,elevation:2,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:ee.title,children:r("myBudget")}),(0,d.jsxs)(A.default,{style:ee.balanceRow,children:[(0,d.jsx)(M.default,{variant:"titleLarge",children:r("totalBalance")}),(0,d.jsx)(M.default,{variant:"headlineMedium",style:{color:o>=0?n.colors.success:n.colors.error},children:q(o,a)})]}),(0,d.jsx)(F.default,{style:ee.divider}),(0,d.jsxs)(A.default,{style:ee.statsContainer,children:[(0,d.jsxs)(A.default,{style:ee.statItem,children:[(0,d.jsx)(M.default,{variant:"titleMedium",style:{color:n.colors.success},children:r("income")}),(0,d.jsxs)(M.default,{variant:"titleLarge",style:{color:n.colors.success},children:["+",q(i,a)]})]}),(0,d.jsxs)(A.default,{style:ee.statItem,children:[(0,d.jsx)(M.default,{variant:"titleMedium",style:{color:n.colors.error},children:r("expense")}),(0,d.jsx)(M.default,{variant:"titleLarge",style:{color:n.colors.error},children:q(Math.abs(l),a)})]})]})]}),(0,d.jsx)(M.default,{variant:"titleLarge",style:ee.sectionTitle,children:r("recentTransactions")})]}),ListEmptyComponent:()=>(0,d.jsxs)(A.default,{style:ee.emptyContainer,children:[(0,d.jsx)(M.default,{variant:"bodyLarge",style:{color:n.colors.textSecondary},children:r("noTransactions")}),(0,d.jsx)(M.default,{variant:"bodyMedium",style:{color:n.colors.textSecondary},children:r("addFirstTransaction")})]}),contentContainerStyle:ee.listContent}),(0,d.jsx)(N.default,{icon:e=>(0,d.jsx)(H.default,{name:"plus",size:24,color:e.color}),style:[ee.fab,{backgroundColor:n.colors.primary}],onPress:()=>e.navigate("AddTransaction"),label:r("addTransaction")})]})}const ee=R.default.create({container:{flex:1},listContent:{padding:16,paddingBottom:80},summaryContainer:{padding:16,borderRadius:8,marginBottom:24},title:{marginBottom:16},balanceRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},divider:{marginVertical:16},statsContainer:{flexDirection:"row",justifyContent:"space-between"},statItem:{alignItems:"flex-start"},sectionTitle:{marginBottom:16},emptyContainer:{alignItems:"center",justifyContent:"center",paddingVertical:32},fab:{position:"absolute",margin:16,right:0,bottom:0}});var te=a(2772),ae=a(15009),ne=a(78257),re=a(47514),oe=a(99599),ie=a(61023),le=a(74352);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const de=({visible:e,message:t,style:a})=>{const[n]=(0,r.useState)(new ae.default.Value(0));return(0,r.useEffect)((()=>{e?ae.default.timing(n,{toValue:1,duration:300,useNativeDriver:!0}).start():ae.default.timing(n,{toValue:0,duration:300,useNativeDriver:!0}).start()}),[e]),e?(0,d.jsx)(ae.default.View,{style:[ge.snackbar,a,{opacity:n,transform:[{translateY:n.interpolate({inputRange:[0,1],outputRange:[50,0]})}]}],children:(0,d.jsx)(M.default,{style:ge.snackbarText,children:t})}):null};function ue({navigation:e,route:t}){console.log("=== AddTransactionScreen Component Start ==="),console.log("Navigation prop:",e),console.log("Route prop:",t);const{dispatch:a,selectedCurrency:n}=h(),{categories:o,addCategory:i}=C();console.log("TransactionsContext dispatch available:",!!a);const l=(0,D.useTheme)();console.log("Theme loaded:",!!l);const{colors:s}=l,{t:c}=O();console.log("AddTransactionScreen mounted with route params:",t.params);const u=t.params||{},g=Boolean(u.isEditing),m=u.transaction;console.log("Is editing:",g),console.log("Existing transaction:",m);const[y,f]=(0,r.useState)(""),[p,x]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[v,S]=(0,r.useState)(!1),[w,T]=(0,r.useState)("expense"),[k,P]=(0,r.useState)({}),[B,E]=(0,r.useState)(!1),[I,R]=(0,r.useState)(!1);(0,r.useEffect)((()=>{console.log("Setting form values. IsEditing:",g,"Transaction:",m),g&&m&&(console.log("Existing transaction ID:",m.id),f(m.description||""),x(m.amount?Math.abs(m.amount).toString():""),j(m.category||""),S(Boolean(m.isRecurring)),T(m.amount<0?"expense":"income"))}),[g,m]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te.default,{style:[ge.container,{backgroundColor:s.background}],children:(0,d.jsxs)(A.default,{style:ge.content,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:[ge.title,{color:s.primary}],children:c(g?"editTransaction":"addTransaction")}),(0,d.jsx)(le.default,{value:w,onValueChange:T,buttons:[{value:"expense",label:c("expense")},{value:"income",label:c("income")}],style:ge.segmentedButtons}),(0,d.jsx)(ne.default,{mode:"outlined",label:c("description"),value:y,onChangeText:e=>{f(e),P(ce(ce({},k),{},{description:""}))},error:!!k.description,style:ge.input,accessibilityLabel:"Transaction description input"}),(0,d.jsx)(ie.default,{type:"error",visible:!!k.description,children:k.description}),(0,d.jsx)(ne.default,{mode:"outlined",label:c("amount"),value:p,onChangeText:e=>{x(e),P(ce(ce({},k),{},{amount:""}))},keyboardType:"decimal-pad",error:!!k.amount,style:ge.input,left:(0,d.jsx)(ne.default.Affix,{text:Y(n)}),accessibilityLabel:"Transaction amount input"}),(0,d.jsx)(ie.default,{type:"error",visible:!!k.amount,children:k.amount}),(0,d.jsx)(A.default,{style:ge.categoryInputContainer,children:(0,d.jsx)(G.default,{visible:I,onDismiss:()=>R(!1),anchor:(0,d.jsx)(ne.default,{mode:"outlined",label:c("category"),value:b,onChangeText:e=>{j(e),P(ce(ce({},k),{},{category:""}))},error:!!k.category,style:[ge.input,{flex:1}],right:(0,d.jsx)(ne.default.Icon,{icon:()=>(0,d.jsx)(H.default,{name:"menu-down",size:24,color:s.primary}),onPress:()=>R(!0)}),onPressIn:()=>R(!0),accessibilityLabel:"Transaction category input"}),children:o.map((e=>(0,d.jsx)(G.default.Item,{onPress:()=>{j(e),R(!1),P(ce(ce({},k),{},{category:""}))},title:e},e)))})}),(0,d.jsx)(ie.default,{type:"error",visible:!!k.category,children:k.category}),(0,d.jsxs)(A.default,{style:ge.switchContainer,children:[(0,d.jsx)(M.default,{variant:"bodyLarge",children:c("recurringMonthly")}),(0,d.jsx)(oe.default,{value:v,onValueChange:S,color:s.primary})]}),(0,d.jsx)(re.default,{mode:"contained",onPress:async()=>{if(!(()=>{const e={};return y.trim()||(e.description=c("descriptionRequired")),p?(isNaN(p)||parseFloat(p)<=0)&&(e.amount=c("invalidAmount")):e.amount=c("amountRequired"),b.trim()||(e.category=c("categoryRequired")),P(e),0===Object.keys(e).length})())return;const t=parseFloat(p),n="expense"===w?-t:t,r=b.trim();r&&!o.includes(r)&&await i(r);const l={description:y.trim(),amount:n,date:(new Date).toISOString().split("T")[0],category:r,isRecurring:v,type:w};if(g)a({type:"UPDATE_TRANSACTION",payload:ce({id:m.id},l)});else{const e=Date.now().toString();a({type:"ADD_TRANSACTION",payload:ce({id:e},l)})}E(!0),setTimeout((()=>{E(!1),e.goBack()}),1500)},style:ge.button,labelStyle:ge.buttonLabel,accessibilityLabel:g?"Update transaction button":"Add transaction button",children:c(g?"update":"add")})]})}),(0,d.jsx)(de,{visible:B,message:c(g?"transactionUpdated":"transactionAdded"),style:{backgroundColor:s.success}})]})}const ge=R.default.create({container:{flex:1},content:{padding:16},title:{marginBottom:24,textAlign:"center"},input:{marginBottom:8},switchContainer:{flexDirection:"row",alignItems:"center",marginVertical:16},switchLabel:{marginLeft:8},snackbar:{position:"absolute",bottom:16,left:16,right:16,backgroundColor:"#4CAF50",borderRadius:8,padding:16,elevation:4},snackbarText:{color:"white",textAlign:"center",fontSize:14},segmentedButtons:{marginBottom:16},button:{marginTop:16,paddingVertical:8},buttonLabel:{fontSize:16,fontWeight:"600"},categoryInputContainer:{flexDirection:"row",alignItems:"center"}});var me=a(26725),ye=a(1888);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const he=[{value:"pie",label:"pieChart"},{value:"donut",label:"donutChart"}];function xe(){const{state:e,selectedCurrency:t}=h(),a=(0,D.useTheme)(),{t:n}=O(),[o,i]=(0,r.useState)("donut"),l=e.transactions.filter((e=>e.amount<0)).reduce(((e,t)=>{const a=t.category||"Uncategorized";return e[a]=(e[a]||0)+Math.abs(t.amount),e}),{}),s=Object.values(l).reduce(((e,t)=>e+t),0),c=Object.entries(l).map((([e,t])=>({x:e,y:t,percentage:(t/s*100).toFixed(1)}))),u=[a.colors.primary,a.colors.secondary,a.colors.error,a.colors.success,a.colors.warning,"#9333EA","#2563EB","#DC2626"];return 0===c.length?(0,d.jsxs)(A.default,{style:[be.container,{backgroundColor:a.colors.background}],children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:be.noDataText,children:n("noExpenseData")}),(0,d.jsx)(M.default,{variant:"bodyMedium",style:{color:a.colors.textSecondary},children:n("addExpensesToSee")})]}):(0,d.jsxs)(te.default,{style:[be.container,{backgroundColor:a.colors.background}],contentContainerStyle:be.contentContainer,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:[be.title,{color:a.colors.primary}],children:n("expenseBreakdown")}),(0,d.jsxs)(z.default,{style:be.chartContainer,elevation:2,children:[(0,d.jsxs)(M.default,{variant:"titleLarge",style:[be.totalAmount,{color:a.colors.error}],children:[n("totalSpent"),": ",q(s,t)]}),(0,d.jsx)(le.default,{value:o,onValueChange:i,buttons:he.map((e=>pe(pe({},e),{},{label:n(e.label)}))),style:be.segmentedButtons}),(0,d.jsx)(ye.VictoryPie,{data:c,colorScale:u,innerRadius:"donut"===o?80:0,padAngle:2,animate:{duration:1e3,onLoad:{duration:500}},height:300,width:Math.min(350,me.default.get("window").width-40),labels:()=>"",labelComponent:(0,d.jsx)(ye.VictoryLabel,{text:""}),style:{data:{stroke:a.colors.background,strokeWidth:1},labels:{display:"none"}}}),(0,d.jsx)(A.default,{style:be.legendContainer,children:(0,d.jsx)(ye.VictoryLegend,{x:10,y:0,orientation:"horizontal",gutter:20,rowGutter:10,itemsPerRow:2,centerTitle:!0,style:{labels:{fill:a.colors.text,fontSize:12},parent:{width:"100%"}},data:c.map(((e,a)=>({name:`${e.x}: ${q(e.y,t)} (${e.percentage}%)`,symbol:{fill:u[a%u.length]}})))})})]}),(0,d.jsxs)(z.default,{style:be.summaryContainer,elevation:2,children:[(0,d.jsx)(M.default,{variant:"titleMedium",style:{color:a.colors.text},children:n("summary")}),c.map(((e,n)=>(0,d.jsxs)(A.default,{style:be.summaryRow,children:[(0,d.jsxs)(A.default,{style:be.categoryInfo,children:[(0,d.jsx)(A.default,{style:[be.colorIndicator,{backgroundColor:u[n%u.length]}]}),(0,d.jsx)(M.default,{variant:"bodyMedium",children:e.x})]}),(0,d.jsx)(M.default,{variant:"bodyMedium",style:{color:a.colors.text},children:q(e.y,t)})]},e.x))),(0,d.jsxs)(A.default,{style:[be.summaryRow,be.totalRow],children:[(0,d.jsx)(M.default,{variant:"titleMedium",children:n("total")}),(0,d.jsx)(M.default,{variant:"titleMedium",style:{color:a.colors.primary},children:q(s,t)})]})]})]})}const be=R.default.create({container:{flex:1},contentContainer:{padding:16,flexGrow:1},title:{textAlign:"center",marginBottom:16},chartContainer:{padding:16,borderRadius:8,marginBottom:16,alignItems:"center",width:"100%"},segmentedButtons:{marginBottom:16,width:"100%"},summaryContainer:{padding:16,borderRadius:8,width:"100%"},summaryRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8,flexWrap:"wrap"},categoryInfo:{flexDirection:"row",alignItems:"center",flex:1,minWidth:150,marginRight:8},colorIndicator:{width:12,height:12,borderRadius:6,marginRight:8,flexShrink:0},totalRow:{borderTopWidth:1,marginTop:8,paddingTop:16},noDataText:{textAlign:"center",marginBottom:8},totalAmount:{textAlign:"center",marginBottom:16},legendContainer:{marginTop:20,width:"100%",paddingHorizontal:10,alignItems:"flex-start"}});var je=a(78264),ve=a(84268),Ce=a(16398),Se=a(11356),we=a(40881);a(47211).setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!1})});var Te=a(19884),Oe=a(94780),ke=a(8218),Pe=a(40382),De=a(79831),Be=a(90673);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const{LightTheme:Ie,DarkTheme:Re}=(0,D.adaptNavigationTheme)({reactNavigationLight:Pe.default,reactNavigationDark:De.default}),Le=Ee(Ee(Ee({},Te.MD3LightTheme),Ie),{},{colors:Ee(Ee(Ee({},Te.MD3LightTheme.colors),Ie.colors),{},{primary:"#3B82F6",secondary:"#F59E0B",background:"#FFFFFF",surface:"#F3F4F6",text:"#1F2937",textSecondary:"#6B7280",error:"#EF4444",success:"#10B981",warning:"#F59E0B",info:"#3B82F6",border:"#E5E7EB"}),spacing:{xs:4,sm:8,md:16,lg:24,xl:32,xxl:48},typography:{fontFamily:{regular:"System",medium:"System",bold:"System"},fontSize:{xs:12,sm:14,md:16,lg:18,xl:20,xxl:24,xxxl:32},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}},roundness:8}),Me=Ee(Ee(Ee({},Oe.MD3DarkTheme),Re),{},{colors:Ee(Ee(Ee({},Oe.MD3DarkTheme.colors),Re.colors),{},{primary:"#60A5FA",secondary:"#FBBF24",background:"#111827",surface:"#1F2937",text:"#F9FAFB",textSecondary:"#9CA3AF",error:"#F87171",success:"#34D399",warning:"#FBBF24",info:"#60A5FA",border:"#374151"}),spacing:Le.spacing,typography:Le.typography,roundness:Le.roundness}),Ne=(0,r.createContext)({theme:Le,isDarkMode:!1,toggleTheme:()=>{}});function ze({children:e}){const t=(0,Be.default)(),[a,n]=(0,r.useState)("dark"===t),o=a?Me:Le;return(0,d.jsx)(Ne.Provider,{value:{theme:o,isDarkMode:a,toggleTheme:()=>{n(!a)}},children:(0,d.jsx)(ke.default,{theme:o,children:e})})}function Fe(){const e=(0,r.useContext)(Ne);if(!e)throw new Error("useAppTheme must be used within a ThemeProvider");return e}function He(){const e=(0,D.useTheme)(),{colors:t}=e,{isDarkMode:a,toggleTheme:n}=Fe(),{language:o,changeLanguage:i,t:l}=O(),[s,c]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[m,y]=(0,r.useState)(!1),f=Object.entries(W).map((([e,t])=>({code:e,symbol:t.symbol,label:`${e} (${t.symbol})`}))),{selectedCurrency:p,handleCurrencyChange:x}=h(),{categories:b,addCategory:j,removeCategory:v,updateCategory:S}=C(),[w,T]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!1),[B,E]=(0,r.useState)(""),[I,R]=(0,r.useState)(null),[L,N]=(0,r.useState)(""),V=async()=>{s||await async function(){const{status:e}=await Ce.getPermissionsAsync();let t=e;if("granted"!==e){const{status:e}=await Ce.requestPermissionsAsync();t=e}"granted"===t?(await Se.default(),await we.default({content:{title:"Budget Reminder",body:"Don\u2019t forget to log your expenses today!",sound:!0},trigger:{hour:9,minute:0,repeats:!0,channelId:"daily-reminders"}}),alert("Daily reminder scheduled for 9 AM.")):alert("Notification permissions not granted!")}(),c(!s)},G=f.find((e=>e.code===p)),q=()=>{B.trim()&&(j(B.trim()),E(""),T(!1))},Y=()=>{L.trim()&&I&&(S(I,L.trim()),N(""),R(null),P(!1))},K=(e,a,n,r)=>(0,d.jsx)(je.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:r,children:(0,d.jsx)(A.default,{style:$e.modalOverlay,children:(0,d.jsxs)(z.default,{style:[$e.dialogContainer,{backgroundColor:t.surface}],elevation:5,children:[(0,d.jsx)(M.default,{variant:"titleLarge",style:[$e.dialogTitle,{color:t.text}],children:a}),n]})})});return(0,d.jsxs)(A.default,{style:[$e.mainContainer,{backgroundColor:t.background}],children:[(0,d.jsxs)(te.default,{style:$e.container,children:[(0,d.jsxs)(z.default,{style:[$e.surface,{backgroundColor:t.surface}],elevation:1,children:[(0,d.jsx)(M.default,{variant:"titleLarge",style:[$e.sectionTitle,{color:t.text}],children:l("appSettings")}),(0,d.jsxs)(ve.default,{children:[(0,d.jsx)(U.default,{title:l("darkMode"),description:l("darkModeDesc"),left:e=>(0,d.jsx)(H.default,{name:"theme-light-dark",size:24,color:e.color,style:e.style}),right:()=>(0,d.jsx)(oe.default,{value:a,onValueChange:n,color:t.primary})}),(0,d.jsx)(F.default,{}),(0,d.jsx)(U.default,{title:l("dailyReminders"),description:l("dailyRemindersDesc"),left:e=>(0,d.jsx)(H.default,{name:"bell",size:24,color:e.color,style:e.style}),right:()=>(0,d.jsx)(oe.default,{value:s,onValueChange:V,color:t.primary})}),(0,d.jsx)(F.default,{}),(0,d.jsx)(U.default,{title:l("currencyFormat"),description:`${l("currentCurrency")}${(null===G||void 0===G?void 0:G.label)||"USD ($)"}`,left:e=>(0,d.jsx)(H.default,{name:"currency-usd",size:24,color:e.color,style:e.style}),onPress:()=>g(!0)}),(0,d.jsx)(F.default,{}),(0,d.jsx)(U.default,{title:l("language"),description:l("languageDesc"),left:e=>(0,d.jsx)(H.default,{name:"translate",size:24,color:e.color,style:e.style}),onPress:()=>y(!0)})]}),(0,d.jsx)(F.default,{style:$e.divider}),(0,d.jsxs)(ve.default,{children:[(0,d.jsx)(M.default,{variant:"titleMedium",style:[$e.sectionTitle,{color:t.text}],children:l("categories")}),b.map((e=>(0,d.jsx)(U.default,{title:e,right:a=>(0,d.jsxs)(A.default,{style:$e.categoryActions,children:[(0,d.jsx)(H.default,{name:"pencil",size:24,color:t.primary,onPress:()=>{R(e),N(e),P(!0)},style:{padding:8}}),(0,d.jsx)(H.default,{name:"delete",size:24,color:t.error,onPress:()=>(e=>{v(e)})(e),style:{padding:8}})]})},e))),(0,d.jsx)(re.default,{mode:"outlined",onPress:()=>T(!0),style:$e.addButton,children:l("addNewCategory")})]})]}),(0,d.jsxs)(z.default,{style:[$e.surface,$e.aboutSection,{backgroundColor:t.surface}],elevation:1,children:[(0,d.jsx)(M.default,{variant:"titleLarge",style:[$e.sectionTitle,{color:t.text}],children:l("about")}),(0,d.jsxs)(ve.default,{children:[(0,d.jsx)(U.default,{title:l("version"),description:"1.0.0",left:e=>(0,d.jsx)(H.default,{name:"information",size:24,color:e.color,style:e.style})}),(0,d.jsx)(F.default,{}),(0,d.jsx)(U.default,{title:l("helpAndSupport"),description:l("helpDesc"),left:e=>(0,d.jsx)(H.default,{name:"help-circle",size:24,color:e.color,style:e.style}),onPress:()=>{}}),(0,d.jsx)(F.default,{}),(0,d.jsx)(U.default,{title:l("privacyPolicy"),description:l("privacyPolicyDesc"),left:e=>(0,d.jsx)(H.default,{name:"shield-account",size:24,color:e.color,style:e.style}),onPress:()=>{}})]})]})]}),K(u,"Select Currency",(0,d.jsxs)(A.default,{children:[(0,d.jsx)(te.default,{style:$e.currencyList,children:f.map((e=>(0,d.jsxs)($.default,{style:[$e.currencyItem,p===e.code&&{backgroundColor:t.primaryContainer}],onPress:()=>(async e=>{await x(e),g(!1)})(e.code),children:[(0,d.jsx)(M.default,{style:[$e.currencyLabel,{color:t.text}],children:e.label}),p===e.code&&(0,d.jsx)(H.default,{name:"check",size:24,color:t.primary})]},e.code)))}),(0,d.jsx)(re.default,{onPress:()=>g(!1),style:$e.dialogCloseButton,children:"Close"})]}),(()=>g(!1))),K(m,l("language"),(0,d.jsxs)(A.default,{children:[(0,d.jsx)(te.default,{style:$e.languageList,children:[{code:"tr",label:"T\xfcrk\xe7e"},{code:"en",label:"English"}].map((e=>(0,d.jsxs)($.default,{style:[$e.languageItem,o===e.code&&{backgroundColor:t.primaryContainer}],onPress:()=>{i(e.code),y(!1)},children:[(0,d.jsx)(M.default,{style:[$e.languageLabel,{color:t.text}],children:e.label}),o===e.code&&(0,d.jsx)(H.default,{name:"check",size:24,color:t.primary})]},e.code)))}),(0,d.jsx)(re.default,{onPress:()=>y(!1),style:$e.dialogCloseButton,children:l("close")})]}),(()=>y(!1))),K(w,l("addNewCategory"),(0,d.jsxs)(A.default,{children:[(0,d.jsx)(ne.default,{label:l("categoryName"),value:B,onChangeText:E,mode:"outlined",style:$e.dialogInput}),(0,d.jsxs)(A.default,{style:$e.dialogActions,children:[(0,d.jsx)(re.default,{onPress:()=>T(!1),children:l("cancel")}),(0,d.jsx)(re.default,{onPress:q,children:l("add")})]})]}),(()=>T(!1))),K(k,l("editCategory"),(0,d.jsxs)(A.default,{children:[(0,d.jsx)(ne.default,{label:l("categoryName"),value:L,onChangeText:N,mode:"outlined",style:$e.dialogInput}),(0,d.jsxs)(A.default,{style:$e.dialogActions,children:[(0,d.jsx)(re.default,{onPress:()=>P(!1),children:l("cancel")}),(0,d.jsx)(re.default,{onPress:Y,children:l("update")})]})]}),(()=>P(!1)))]})}const $e=R.default.create({mainContainer:{flex:1},container:{flex:1,padding:16},surface:{borderRadius:8,marginBottom:16,padding:16},sectionTitle:{marginBottom:16,fontWeight:"600"},aboutSection:{marginTop:8},currencySelector:{position:"absolute",top:"50%",left:"50%",transform:[{translateX:-150},{translateY:-200}],width:300,maxHeight:400,borderRadius:8,padding:16},currencySelectorHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},currencySelectorTitle:{fontWeight:"600"},closeButton:{fontSize:16,fontWeight:"500"},currencyList:{flexGrow:0},currencyItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderRadius:4},currencyLabel:{fontSize:16},divider:{marginVertical:16},categoryActions:{flexDirection:"row",alignItems:"center"},addButton:{marginTop:16,marginHorizontal:16},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},dialogContainer:{width:"90%",maxWidth:400,borderRadius:8,padding:16},dialogTitle:{marginBottom:16,fontWeight:"600"},dialogInput:{marginBottom:16},dialogActions:{flexDirection:"row",justifyContent:"flex-end",gap:8},dialogCloseButton:{marginTop:16},languageList:{maxHeight:200},languageItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:15,borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)"},languageLabel:{fontSize:16}});var Ue=a(51690);const Ve=[{value:"tr",label:"T\xfcrk\xe7e"},{value:"en",label:"English"}];function Ge({navigation:e}){const t=(0,D.useTheme)(),{colors:a}=t,{changeLanguage:n,t:o}=O(),{handleCurrencyChange:i}=h(),{isDarkMode:s,toggleTheme:c}=Fe(),[u,g]=(0,r.useState)("tr"),[m,y]=(0,r.useState)("TRY"),[f,p]=(0,r.useState)(0);(0,r.useEffect)((()=>{x("tr")}),[]);const x=e=>{g(e),n(e)},b=e=>{e!==s&&c()},j=[()=>(0,d.jsxs)(A.default,{style:We.stepContainer,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:We.title,children:o("selectLanguage")}),(0,d.jsx)(z.default,{style:We.optionsContainer,elevation:2,children:Ve.map((e=>(0,d.jsx)(re.default,{mode:u===e.value?"contained":"outlined",onPress:()=>x(e.value),style:We.optionButton,children:e.label},e.value)))})]}),()=>{const e=Object.entries(W),t=[e.find((([e])=>"TRY"===e)),...e.filter((([e])=>"TRY"!==e))].filter(Boolean);return(0,d.jsxs)(A.default,{style:We.stepContainer,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:We.title,children:o("selectCurrency")}),(0,d.jsx)(z.default,{style:We.optionsContainer,elevation:2,children:(0,d.jsx)(te.default,{style:We.currencyList,children:t.map((([e,t])=>(0,d.jsx)(re.default,{mode:m===e?"contained":"outlined",onPress:()=>(e=>{y(e),i(e)})(e),style:We.optionButton,children:`${t.symbol} ${e}`},e)))})})]})},()=>(0,d.jsxs)(A.default,{style:We.stepContainer,children:[(0,d.jsx)(M.default,{variant:"headlineMedium",style:We.title,children:o("chooseTheme")}),(0,d.jsxs)(z.default,{style:We.optionsContainer,elevation:2,children:[(0,d.jsx)(re.default,{mode:s?"outlined":"contained",onPress:()=>b(!1),style:We.optionButton,left:e=>(0,d.jsx)(H.default,{name:"white-balance-sunny",size:24,color:e.color}),children:o("lightTheme")}),(0,d.jsx)(re.default,{mode:s?"contained":"outlined",onPress:()=>b(!0),style:We.optionButton,left:e=>(0,d.jsx)(H.default,{name:"weather-night",size:24,color:e.color}),children:o("darkTheme")})]})]})];return(0,d.jsxs)(A.default,{style:[We.container,{backgroundColor:a.background}],children:[(0,d.jsx)(M.default,{variant:"displaySmall",style:[We.welcomeTitle,{color:a.primary}],children:o("welcome")}),j[f](),(0,d.jsxs)(A.default,{style:We.navigationButtons,children:[f>0&&(0,d.jsx)(re.default,{mode:"outlined",onPress:()=>p((e=>e-1)),style:We.navButton,children:o("previous")}),f<j.length-1?(0,d.jsx)(re.default,{mode:"contained",onPress:()=>p((e=>e+1)),style:We.navButton,children:o("next")}):(0,d.jsx)(re.default,{mode:"contained",onPress:async()=>{try{const r={language:u,currency:m,theme:s?"dark":"light"};console.log("Starting onboarding completion process..."),console.log("Preferences to save:",r),await l.default.setItem("userPreferences",JSON.stringify(r)),console.log("Preferences saved"),await l.default.setItem("hasCompletedOnboarding","true"),console.log("Onboarding marked as complete");try{e.reset({index:0,routes:[{name:"MainApp"}]})}catch(t){console.error("Reset navigation failed:",t);try{e.replace("MainApp")}catch(a){console.error("Replace navigation failed:",a);try{e.dispatch(I.CommonActions.reset({index:0,routes:[{name:"MainApp"}]}))}catch(n){console.error("Dispatch navigation failed:",n)}}}}catch(r){console.error("Error in handleComplete:",r),Ue.default.alert("Error","There was an error saving your preferences. Please try again.",[{text:"OK"}])}},style:We.navButton,children:o("getStarted")})]})]})}const We=R.default.create({container:{flex:1,padding:16},stepContainer:{flex:1,justifyContent:"center",alignItems:"center"},title:{marginBottom:32,textAlign:"center"},optionsContainer:{padding:16,borderRadius:8,width:"100%",maxWidth:400},optionButton:{marginVertical:8},currencyList:{maxHeight:300},navigationButtons:{flexDirection:"row",justifyContent:"space-between",padding:16},navButton:{flex:1,marginHorizontal:8},welcomeTitle:{textAlign:"center",marginTop:32,marginBottom:16},buttonContent:{flexDirection:"row-reverse",alignItems:"center"}}),qe=(0,k.default)(),Ye=(0,P.default)(),Ke=(0,P.default)();function _e(){const{colors:e}=(0,D.useTheme)();return(0,d.jsxs)(Ye.Navigator,{screenOptions:{headerStyle:{backgroundColor:e.background,elevation:0,shadowOpacity:0},headerTintColor:e.text,headerTitleStyle:{fontWeight:"600"}},children:[(0,d.jsx)(Ye.Screen,{name:"Home",component:Z,options:{title:"My Budget"}}),(0,d.jsx)(Ye.Screen,{name:"AddTransaction",component:ue,options:({route:t})=>{var a;return{title:null!==(a=t.params)&&void 0!==a&&a.isEditing?"Edit Transaction":"Add Transaction",headerStyle:{backgroundColor:e.background,elevation:0,shadowOpacity:0}}}})]})}function Je(){const{colors:e}=(0,D.useTheme)(),{t:t}=O(),a={headerShown:!0,headerStyle:{backgroundColor:e.background,elevation:0,shadowOpacity:0},headerTintColor:e.text,headerTitleStyle:{fontWeight:"600"},tabBarStyle:{backgroundColor:e.surface,borderTopColor:e.border,paddingVertical:8,height:60},tabBarShowLabel:!1,tabBarActiveTintColor:e.primary,tabBarInactiveTintColor:e.textSecondary,tabBarLabelStyle:{fontSize:12,fontWeight:"500"}};return(0,d.jsxs)(qe.Navigator,{initialRouteName:"HomeStack",screenOptions:a,children:[(0,d.jsx)(qe.Screen,{name:"HomeStack",component:_e,options:{title:t("tabHome"),headerShown:!1,tabBarIcon:({color:e,size:t})=>(0,d.jsx)(B.default,{name:"home",size:t,color:e})}}),(0,d.jsx)(qe.Screen,{name:"Charts",component:xe,options:{title:t("tabCharts"),tabBarIcon:({color:e,size:t})=>(0,d.jsx)(B.default,{name:"chart-bar",size:t,color:e})}}),(0,d.jsx)(qe.Screen,{name:"Settings",component:He,options:{title:t("tabSettings"),tabBarIcon:({color:e,size:t})=>(0,d.jsx)(B.default,{name:"cog",size:t,color:e})}})]})}function Xe(){const[e,t]=(0,r.useState)(!0),[a,n]=(0,r.useState)(!1),[,o]=(0,r.useState)({}),i=(0,r.useCallback)((async()=>{try{console.log("Checking onboarding status...");const e=await l.default.getItem("hasCompletedOnboarding");console.log("Retrieved onboarding status:",e);const t="true"===e;console.log("Should show main app:",t),n(t),o({})}catch(e){console.error("Error in checkOnboardingStatus:",e),n(!1)}finally{t(!1)}}),[]);return(0,r.useEffect)((()=>{i()}),[i]),(0,I.useFocusEffect)((0,r.useCallback)((()=>{console.log("Screen focused, checking onboarding status"),i()}),[i])),(0,r.useEffect)((()=>{const e=setInterval((async()=>{try{"true"!==await l.default.getItem("hasCompletedOnboarding")||a||(console.log("Storage changed, updating navigation state"),n(!0),o({}))}catch(e){console.error("Error checking storage changes:",e)}}),500);return()=>clearInterval(e)}),[a]),e?(0,d.jsx)(A.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,d.jsx)(E.default,{children:"Loading..."})}):(console.log("Rendering RootNavigation with hasCompletedOnboarding:",a),(0,d.jsx)(Ke.Navigator,{screenOptions:{headerShown:!1},children:a?(0,d.jsx)(Ke.Screen,{name:"MainApp",component:Je,options:{animationEnabled:!1}}):(0,d.jsx)(Ke.Screen,{name:"Onboarding",component:Ge,options:{animationEnabled:!1,gestureEnabled:!1}})}))}var Qe=a(78833),Ze=a(94090);(0,n.default)((function(){return(0,d.jsx)(Ze.GestureHandlerRootView,{style:{flex:1},children:(0,d.jsx)(Qe.SafeAreaProvider,{children:(0,d.jsx)(ze,{children:(0,d.jsx)(T,{children:(0,d.jsx)(v,{children:(0,d.jsx)(p,{children:(0,d.jsx)(o.default,{children:(0,d.jsx)(Xe,{})})})})})})})})}))}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,o)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,r,o]=e[d],l=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/MyBudgetApp/",(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,l,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)var d=s(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[352],(()=>a(67317)));n=a.O(n)})();
//# sourceMappingURL=main.e403ee15.js.map